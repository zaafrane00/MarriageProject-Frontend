Object.defineProperty(exports,"__esModule",{value:!0});var directive={inserted:function(e,t,n){var _=n.context.$refs[t.arg];_.addRef({el:e,vnode:n}),_.$contextmenuId=e.id||_._uid}};function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var script={name:"VContextmenu",provide:function(){return{$$contextmenu:this}},props:{eventType:{type:String,default:"contextmenu"},theme:{type:String,default:"default"},autoPlacement:{type:Boolean,default:!0},disabled:Boolean,containerSelector:{type:String,default:"body"}},data:function(){return{visible:!1,references:[],style:{top:0,left:0}}},computed:{clickOutsideHandler:function(){return this.visible?this.hide:function(){}},isClick:function(){return"click"===this.eventType},contextmenuCls:function(){return["v-contextmenu","v-contextmenu--"+this.theme]}},watch:{visible:function(e){var t=document.querySelector(this.containerSelector);e?(this.$emit("show",this),t.addEventListener("click",this.handleBodyClick)):(this.$emit("hide",this),t.removeEventListener("click",this.handleBodyClick))}},mounted:function(){document.querySelector(this.containerSelector).appendChild(this.$el),window.$$VContextmenu?window.$$VContextmenu[this.$contextmenuId]=this:window.$$VContextmenu=_defineProperty({},this.$contextmenuId,this)},beforeDestroy:function(){var e=this,t=document.querySelector(this.containerSelector);t.removeChild(this.$el),delete window.$$VContextmenu[this.$contextmenuId],this.references.forEach(function(t){t.el.removeEventListener(e.eventType,e.handleReferenceContextmenu)}),t.removeEventListener("click",this.handleBodyClick)},methods:{addRef:function(e){this.references.push(e),e.el.addEventListener(this.eventType,this.handleReferenceContextmenu)},handleReferenceContextmenu:function(e){var t=this;if(e.preventDefault(),!this.disabled){var n=this.references.find(function(t){return t.el.contains(e.target)});this.$emit("contextmenu",n?n.vnode:null);var _=e.pageX,i=e.pageY;this.show(),this.$nextTick(function(){var e={top:i,left:_};if(t.autoPlacement){var n=t.$refs.contextmenu.clientWidth,r=t.$refs.contextmenu.clientHeight;r+i>=window.innerHeight&&(e.top-=r),n+_>=window.innerWidth&&(e.left-=n)}t.style={top:e.top+"px",left:e.left+"px"}})}},handleBodyClick:function(e){this.$el.contains(e.target)||this.isClick&&this.references.some(function(t){return t.el.contains(e.target)})||(this.visible=!1)},show:function(e){var t=this;Object.keys(window.$$VContextmenu).forEach(function(e){e!==t.$contextmenuId&&window.$$VContextmenu[e].hide()}),e&&(this.style={top:e.top+"px",left:e.left+"px"}),this.visible=!0},hide:function(){this.visible=!1},hideAll:function(){Object.keys(window.$$VContextmenu).forEach(function(e){window.$$VContextmenu[e].hide()})}}},__vue_script__=script,__vue_render__=function(){var e=this.$createElement;return(this._self._c||e)("ul",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],ref:"contextmenu",class:this.contextmenuCls,style:this.style},[this._t("default")],2)},__vue_staticRenderFns__=[];__vue_render__._withStripped=!0;var __vue_template__=void 0!==__vue_render__?{render:__vue_render__,staticRenderFns:__vue_staticRenderFns__}:{},__vue_inject_styles__=void 0,__vue_scope_id__=void 0,__vue_module_identifier__=void 0,__vue_is_functional_template__=!1;function __vue_normalize__(e,t,n,_,i,r,s,o){var u=n||{};return u.__file="/Users/Stephen/Repos/snokier/v-contextmenu/src/components/Contextmenu.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,i&&(u.functional=!0)),u._scopeId=_,u}function __vue_create_injector__(){var e=document.head||document.getElementsByTagName("head")[0],t=__vue_create_injector__.styles||(__vue_create_injector__.styles={}),n="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(_,i){if(!document.querySelector('style[data-vue-ssr-id~="'+_+'"]')){var r=n?i.media||"default":_,s=t[r]||(t[r]={ids:[],parts:[],element:void 0});if(!s.ids.includes(_)){var o=i.source,u=s.ids.length;if(s.ids.push(_),n&&(s.element=s.element||document.querySelector("style[data-group="+r+"]")),!s.element){var a=s.element=document.createElement("style");a.type="text/css",i.media&&a.setAttribute("media",i.media),n&&(a.setAttribute("data-group",r),a.setAttribute("data-next-index","0")),e.appendChild(a)}if(n&&(u=parseInt(s.element.getAttribute("data-next-index")),s.element.setAttribute("data-next-index",u+1)),s.element.styleSheet)s.parts.push(o),s.element.styleSheet.cssText=s.parts.filter(Boolean).join("\n");else{var d=document.createTextNode(o),c=s.element.childNodes;c[u]&&s.element.removeChild(c[u]),c.length?s.element.insertBefore(d,c[u]):s.element.appendChild(d)}}}}}var Contextmenu=__vue_normalize__(__vue_template__,__vue_inject_styles__,void 0===__vue_script__?{}:__vue_script__,__vue_scope_id__,__vue_is_functional_template__,__vue_module_identifier__,void 0!==__vue_create_injector__?__vue_create_injector__:function(){},"undefined"!=typeof __vue_create_injector_ssr__?__vue_create_injector_ssr__:function(){}),script$1={name:"VContextmenuItem",inject:["$$contextmenu"],props:{divider:Boolean,disabled:Boolean,autoHide:{type:Boolean,default:!0}},data:function(){return{hover:!1}},computed:{classname:function(){return{"v-contextmenu-item":!this.divider,"v-contextmenu-item--hover":this.hover,"v-contextmenu-item--disabled":this.disabled}}},methods:{handleMouseenter:function(e){this.disabled||(this.hover=!0,this.$emit("mouseenter",this,e))},handleMouseleave:function(e){this.disabled||(this.hover=!1,this.$emit("mouseleave",this,e))},handleClick:function(e){this.disabled||(this.$emit("click",this,e),this.autoHide&&this.$$contextmenu.hide())}}},__vue_script__$1=script$1,__vue_render__$1=function(){var e=this.$createElement,t=this._self._c||e;return this.divider?t("li",{staticClass:"v-contextmenu-divider"}):t("li",{class:this.classname,on:{click:this.handleClick,mouseenter:this.handleMouseenter,mouseleave:this.handleMouseleave}},[this._t("default")],2)},__vue_staticRenderFns__$1=[];__vue_render__$1._withStripped=!0;var __vue_template__$1=void 0!==__vue_render__$1?{render:__vue_render__$1,staticRenderFns:__vue_staticRenderFns__$1}:{},__vue_inject_styles__$1=void 0,__vue_scope_id__$1=void 0,__vue_module_identifier__$1=void 0,__vue_is_functional_template__$1=!1;function __vue_normalize__$1(e,t,n,_,i,r,s,o){var u=n||{};return u.__file="/Users/Stephen/Repos/snokier/v-contextmenu/src/components/ContextmenuItem.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,i&&(u.functional=!0)),u._scopeId=_,u}function __vue_create_injector__$1(){var e=document.head||document.getElementsByTagName("head")[0],t=__vue_create_injector__$1.styles||(__vue_create_injector__$1.styles={}),n="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(_,i){if(!document.querySelector('style[data-vue-ssr-id~="'+_+'"]')){var r=n?i.media||"default":_,s=t[r]||(t[r]={ids:[],parts:[],element:void 0});if(!s.ids.includes(_)){var o=i.source,u=s.ids.length;if(s.ids.push(_),n&&(s.element=s.element||document.querySelector("style[data-group="+r+"]")),!s.element){var a=s.element=document.createElement("style");a.type="text/css",i.media&&a.setAttribute("media",i.media),n&&(a.setAttribute("data-group",r),a.setAttribute("data-next-index","0")),e.appendChild(a)}if(n&&(u=parseInt(s.element.getAttribute("data-next-index")),s.element.setAttribute("data-next-index",u+1)),s.element.styleSheet)s.parts.push(o),s.element.styleSheet.cssText=s.parts.filter(Boolean).join("\n");else{var d=document.createTextNode(o),c=s.element.childNodes;c[u]&&s.element.removeChild(c[u]),c.length?s.element.insertBefore(d,c[u]):s.element.appendChild(d)}}}}}var ContextmenuItem=__vue_normalize__$1(__vue_template__$1,__vue_inject_styles__$1,void 0===__vue_script__$1?{}:__vue_script__$1,__vue_scope_id__$1,__vue_is_functional_template__$1,__vue_module_identifier__$1,void 0!==__vue_create_injector__$1?__vue_create_injector__$1:function(){},"undefined"!=typeof __vue_create_injector_ssr__?__vue_create_injector_ssr__:function(){});function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var script$2={name:"VContextmenuSubmenu",props:{title:String,disabled:Boolean},data:function(){return{hover:!1,submenuPlacement:[]}},computed:{classname:function(){return{"v-contextmenu-item":!0,"v-contextmenu-submenu":!0,"v-contextmenu-item--hover":this.hover,"v-contextmenu-item--disabled":this.disabled}},submenuCls:function(){return["v-contextmenu"].concat(_toConsumableArray(this.submenuPlacement))}},methods:{handleMouseenter:function(e){var t=this;if(!this.disabled){var n=e.target.getBoundingClientRect();this.hover=!0,this.$emit("mouseenter",this,e),this.$nextTick(function(){var e=t.$refs.submenu.clientWidth,_=t.$refs.submenu.clientHeight,i=[];n.right+e>=window.innerWidth?i.push("left"):i.push("right"),n.bottom+_>=window.innerHeight?i.push("bottom"):i.push("top"),t.submenuPlacement=i})}},handleMouseleave:function(e){this.disabled||(this.hover=!1,this.$emit("mouseleave",this,e))}}},__vue_script__$2=script$2,__vue_render__$2=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{class:e.classname,on:{mouseenter:e.handleMouseenter,mouseleave:e.handleMouseleave}},[n("span",{staticClass:"v-contextmenu-submenu__title"},[e._t("title",[e._v(e._s(e.title))]),e._v(" "),n("span",{staticClass:"v-contextmenu-iconfont v-contextmenu-submenu__icon"})],2),e._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.hover,expression:"hover"}],ref:"submenu",class:e.submenuCls},[e._t("default")],2)])},__vue_staticRenderFns__$2=[];__vue_render__$2._withStripped=!0;var __vue_template__$2=void 0!==__vue_render__$2?{render:__vue_render__$2,staticRenderFns:__vue_staticRenderFns__$2}:{},__vue_inject_styles__$2=void 0,__vue_scope_id__$2=void 0,__vue_module_identifier__$2=void 0,__vue_is_functional_template__$2=!1;function __vue_normalize__$2(e,t,n,_,i,r,s,o){var u=n||{};return u.__file="/Users/Stephen/Repos/snokier/v-contextmenu/src/components/ContextmenuSubmenu.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,i&&(u.functional=!0)),u._scopeId=_,u}function __vue_create_injector__$2(){var e=document.head||document.getElementsByTagName("head")[0],t=__vue_create_injector__$2.styles||(__vue_create_injector__$2.styles={}),n="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(_,i){if(!document.querySelector('style[data-vue-ssr-id~="'+_+'"]')){var r=n?i.media||"default":_,s=t[r]||(t[r]={ids:[],parts:[],element:void 0});if(!s.ids.includes(_)){var o=i.source,u=s.ids.length;if(s.ids.push(_),n&&(s.element=s.element||document.querySelector("style[data-group="+r+"]")),!s.element){var a=s.element=document.createElement("style");a.type="text/css",i.media&&a.setAttribute("media",i.media),n&&(a.setAttribute("data-group",r),a.setAttribute("data-next-index","0")),e.appendChild(a)}if(n&&(u=parseInt(s.element.getAttribute("data-next-index")),s.element.setAttribute("data-next-index",u+1)),s.element.styleSheet)s.parts.push(o),s.element.styleSheet.cssText=s.parts.filter(Boolean).join("\n");else{var d=document.createTextNode(o),c=s.element.childNodes;c[u]&&s.element.removeChild(c[u]),c.length?s.element.insertBefore(d,c[u]):s.element.appendChild(d)}}}}}var ContextmenuSubmenu=__vue_normalize__$2(__vue_template__$2,__vue_inject_styles__$2,void 0===__vue_script__$2?{}:__vue_script__$2,__vue_scope_id__$2,__vue_is_functional_template__$2,__vue_module_identifier__$2,void 0!==__vue_create_injector__$2?__vue_create_injector__$2:function(){},"undefined"!=typeof __vue_create_injector_ssr__?__vue_create_injector_ssr__:function(){}),script$3={name:"VContextmenuGroup",props:{maxWidth:[Number,String]},computed:{menusStyle:function(){return this.maxWidth?{"max-width":"number"==typeof this.maxWidth?this.maxWidth+"px":this.maxWidth,"overflow-x":"auto"}:null}}},__vue_script__$3=script$3,__vue_render__$3=function(){var e=this.$createElement,t=this._self._c||e;return t("li",{staticClass:"v-contextmenu-group"},[t("ul",{staticClass:"v-contextmenu-group__menus",style:this.menusStyle},[this._t("default")],2)])},__vue_staticRenderFns__$3=[];__vue_render__$3._withStripped=!0;var __vue_template__$3=void 0!==__vue_render__$3?{render:__vue_render__$3,staticRenderFns:__vue_staticRenderFns__$3}:{},__vue_inject_styles__$3=void 0,__vue_scope_id__$3=void 0,__vue_module_identifier__$3=void 0,__vue_is_functional_template__$3=!1;function __vue_normalize__$3(e,t,n,_,i,r,s,o){var u=n||{};return u.__file="/Users/Stephen/Repos/snokier/v-contextmenu/src/components/ContextmenuGroup.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,i&&(u.functional=!0)),u._scopeId=_,u}function __vue_create_injector__$3(){var e=document.head||document.getElementsByTagName("head")[0],t=__vue_create_injector__$3.styles||(__vue_create_injector__$3.styles={}),n="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(_,i){if(!document.querySelector('style[data-vue-ssr-id~="'+_+'"]')){var r=n?i.media||"default":_,s=t[r]||(t[r]={ids:[],parts:[],element:void 0});if(!s.ids.includes(_)){var o=i.source,u=s.ids.length;if(s.ids.push(_),n&&(s.element=s.element||document.querySelector("style[data-group="+r+"]")),!s.element){var a=s.element=document.createElement("style");a.type="text/css",i.media&&a.setAttribute("media",i.media),n&&(a.setAttribute("data-group",r),a.setAttribute("data-next-index","0")),e.appendChild(a)}if(n&&(u=parseInt(s.element.getAttribute("data-next-index")),s.element.setAttribute("data-next-index",u+1)),s.element.styleSheet)s.parts.push(o),s.element.styleSheet.cssText=s.parts.filter(Boolean).join("\n");else{var d=document.createTextNode(o),c=s.element.childNodes;c[u]&&s.element.removeChild(c[u]),c.length?s.element.insertBefore(d,c[u]):s.element.appendChild(d)}}}}}var ContextmenuGroup=__vue_normalize__$3(__vue_template__$3,__vue_inject_styles__$3,void 0===__vue_script__$3?{}:__vue_script__$3,__vue_scope_id__$3,__vue_is_functional_template__$3,__vue_module_identifier__$3,void 0!==__vue_create_injector__$3?__vue_create_injector__$3:function(){},"undefined"!=typeof __vue_create_injector_ssr__?__vue_create_injector_ssr__:function(){}),install=function(e){e.directive("contextmenu",directive),e.component(Contextmenu.name,Contextmenu),e.component(ContextmenuItem.name,ContextmenuItem),e.component(ContextmenuSubmenu.name,ContextmenuSubmenu),e.component(ContextmenuGroup.name,ContextmenuGroup)};"undefined"!=typeof window&&window.Vue&&install(window.Vue);var index={install:install};exports.directive=directive,exports.Contextmenu=Contextmenu,exports.ContextmenuItem=ContextmenuItem,exports.ContextmenuSubmenu=ContextmenuSubmenu,exports.ContextmenuGroup=ContextmenuGroup,exports.default=index;
